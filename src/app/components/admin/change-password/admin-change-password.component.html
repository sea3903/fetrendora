<div class="admin-change-password-page">
    <div class="page-header">
        <h2>{{ 'PROFILE.CHANGE_PASSWORD_TITLE' | translate }}</h2>
        <p class="subtitle">{{ 'PROFILE.CHANGE_PASSWORD_DESC' | translate }}</p>
    </div>

    <!-- Loading -->
    <div class="loading-container" *ngIf="loading">
        <div class="spinner"></div>
    </div>

    <!-- Change Password Form -->
    <div class="password-card" *ngIf="!loading">
        <form (ngSubmit)="changePassword()">
            <div class="form-group">
                <label>{{ 'PROFILE.CURRENT_PASSWORD' | translate }} <span class="required">*</span></label>
                <input type="password" [(ngModel)]="currentPassword" name="currentPassword"
                    (blur)="validateCurrentPassword()" (input)="validateCurrentPassword()"
                    [class.error]="currentPwdError" [placeholder]="'PROFILE.CURRENT_PASSWORD' | translate">
                <span class="error-text" *ngIf="currentPwdError">{{ currentPwdError }}</span>
            </div>

            <div class="form-group">
                <label>{{ 'PROFILE.NEW_PASSWORD' | translate }} <span class="required">*</span></label>
                <input type="password" [(ngModel)]="newPassword" name="newPassword" (blur)="validateNewPassword()"
                    (input)="validateNewPassword()" [class.error]="newPwdError"
                    [placeholder]="'PROFILE.NEW_PASSWORD' | translate">
                <span class="error-text" *ngIf="newPwdError">{{ newPwdError }}</span>
            </div>

            <div class="form-group">
                <label>{{ 'PROFILE.CONFIRM_PASSWORD' | translate }} <span class="required">*</span></label>
                <input type="password" [(ngModel)]="confirmPassword" name="confirmPassword"
                    (blur)="validateConfirmPassword()" (input)="validateConfirmPassword()"
                    [class.error]="confirmPwdError" [placeholder]="'PROFILE.CONFIRM_PASSWORD' | translate">
                <span class="error-text" *ngIf="confirmPwdError">{{ confirmPwdError }}</span>
            </div>

            <!-- Actions -->
            <div class="form-actions">
                <a routerLink="/admin/profile" class="btn-secondary">
                    <i class="fas fa-arrow-left"></i> {{ 'PROFILE.BACK_TO_PROFILE' | translate }}
                </a>
                <button type="submit" class="btn-primary" [disabled]="changingPassword">
                    <span *ngIf="changingPassword" class="spinner-small"></span>
                    <i *ngIf="!changingPassword" class="fas fa-key"></i>
                    {{ changingPassword ? ('COMMON.LOADING' | translate) : ('NAV.CHANGE_PASSWORD' | translate) }}
                </button>
            </div>
        </form>
    </div>
</div>